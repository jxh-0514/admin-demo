(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7629e5bc"],{4:function(t,e){},5:function(t,e){},6:function(t,e){},7:function(t,e){},8:function(t,e){},"82c4":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chatroomBox"},[n("div",{staticClass:"contentBox"},t._l(t.logs,(function(e,s){return n("p",{key:s,staticClass:"messageItem"},[t._v(" "+t._s(e)+" ")])})),0),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),n("el-col",{attrs:{span:12}},[n("el-button",{attrs:{type:"success",round:""},on:{click:t.mqttPublish}},[t._v("发送消息")])],1)],1)],1)},c=[],o=(n("e9c4"),n("e7fc"),{data:function(){return{client:"",message:"",logs:[]}},mounted:function(){this.initMqtt(),this.mqttReceive()},methods:{initMqtt:function(){var t=this,e="ws://broker.emqx.io:8083/mqtt",s=n("e7fc"),c={connectTimeout:4e4,clientId:"mqttx_5f0cb198",username:"",password:""};t.client=s.connect(e,c),this.client.on("connect",(function(){console.log("连接成功....")})),t.client.on("error",(function(e){console.log("err=>",e),t.client.end()}))},mqttPublish:function(){var t="test1";this.client.publish(t,JSON.stringify(this.message))},mqttReceive:function(){var t="test1",e=this;e.client.subscribe(t,(function(t){t?console.log("err",t):console.log("订阅成功!")})),e.client.on("message",(function(t,n){e.logs.push(n),console.log("接收",n)}))}},destroyed:function(){this.client.end&&this.client.end()}}),i=o,l=(n("a3e9"),n("2877")),u=Object(l["a"])(i,s,c,!1,null,"1edaac5d",null);e["default"]=u.exports},9:function(t,e){},a3e9:function(t,e,n){"use strict";n("d256b")},d256b:function(t,e,n){}}]);