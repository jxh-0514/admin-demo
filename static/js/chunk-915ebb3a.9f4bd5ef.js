(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-915ebb3a"],{13:function(e,n){},14:function(e,n){},15:function(e,n){},16:function(e,n){},17:function(e,n){},"8c61":function(e,n,t){"use strict";t.r(n);var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}]},[t("pre",[e._v(e._s(e.previewContent))]),t("div",{ref:"preview"}),t("el-divider"),t("p",[e._v("图片")]),t("input",{attrs:{type:"file"},on:{change:e.previewImage}}),t("p",[e._v("文本")]),t("input",{attrs:{type:"file"},on:{change:e.previewText}}),t("p",[e._v("PDF")]),t("input",{attrs:{type:"file"},on:{change:e.previewPdf}}),t("p",[e._v("word")]),t("input",{attrs:{type:"file"},on:{change:e.previewOffice}})],1)},i=[],a=(t("d3b7"),t("3ca3"),t("ddb0"),t("2b3d"),t("9861"),t("ace4"),t("5cc6"),t("907a"),t("9a8c"),t("a975"),t("735e"),t("c1ac"),t("d139"),t("3a7b"),t("d5d6"),t("82f8"),t("e91f"),t("60bd"),t("5f96"),t("3280"),t("3fcc"),t("ca91"),t("25a1"),t("cd26"),t("3c5d"),t("2954"),t("649e"),t("219c"),t("170b"),t("b39a"),t("72f7"),t("fa9e"),t("77d9"),t("c4e3"),t("c343")),o=t.n(a),l=t("9511"),c=t("0507"),f=t.n(c);l["GlobalWorkerOptions"].workerSrc=f.a;var u={name:"DocumentPreview",components:{},data:function(){return{file:null,previewType:null,previewContent:null,fileUrl:null,fileType:null,preview:null,fullscreenLoading:!1}},mounted:function(){this.preview=this.$refs.preview},methods:{previewImage:function(e){var n=e.target.files;if(n&&n.length>0){var t=n[0];this.previewContent=URL.createObjectURL(t)}},previewText:function(e){var n=this,t=e.target.files;if(console.log("文本---",e),t&&t.length>0){var r=t[0],i=new FileReader;i.onload=function(e){n.previewContent=e.target.result},i.readAsText(r)}},previewPdf:function(e){var n=this,t=e.target.files;if(t&&t.length>0){this.fullscreenLoading=!0;var r=t[0],i=new FileReader;i.onload=function(e){console.log("加载...");var t=new Uint8Array(e.target.result);l["getDocument"](t).promise.then((function(e){var t=e.numPages;console.log("加载222----",t);for(var r=1;r<=t;r++)e.getPage(r).then((function(e){var t=e.getViewport({scale:1}),r=document.createElement("canvas"),i=r.getContext("2d");r.height=t.height,r.width=t.width;var a={canvasContext:i,viewport:t};e.render(a).promise.then((function(){var e=r.toDataURL("image/png"),t=document.createElement("img");t.src=e,n.preview.appendChild(t)}))})),r===t&&(n.fullscreenLoading=!1)})).catch((function(e){n.fullscreenLoading=!1,console.log("加载 PDF 时出错:",e)}))},i.readAsArrayBuffer(r)}},previewOffice:function(e){var n=this;console.log("读取本地文件---",e);var t=e.target.files;if(t&&t.length>0){var r=t[0],i=new FileReader;i.onload=function(e){var t=new Uint8Array(e.target.result);console.log("-----2222------",e.target.result,t),o.a.convertToHtml({arrayBuffer:t}).then((function(e){console.log("读取---",e);var t=document.createElement("div");t.innerHTML=e.value,n.preview.appendChild(t)}))},i.readAsArrayBuffer(r)}}}},s=u,v=t("2877"),d=Object(v["a"])(s,r,i,!1,null,null,null);n["default"]=d.exports}}]);