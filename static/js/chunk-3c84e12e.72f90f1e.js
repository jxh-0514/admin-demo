(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c84e12e"],{"48c2":function(a,t,e){e("b0c0"),e("a79f"),e("9b40");var i="https://maponline0.bdimg.com/tile/?qt=vtile&x={x}&y={y}&z={z}&styles=pl&scaler=2&udt=20230105&from=jsapi2_0",n=i;L.CRS.Baidu=new L.Proj.CRS("EPSG:900913","+proj=merc +a=6378206 +b=6356584.314245179 +lat_ts=0.0 +lon_0=0.0 +x_0=0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs",{resolutions:function(){var a=19,t=[];t[0]=Math.pow(2,18);for(var e=1;e<a;e++)t[e]=Math.pow(2,18-e);return t}(),origin:[0,0],bounds:L.bounds([20037508.342789244,0],[0,20037508.342789244])}),L.tileLayer.baidu=function(a){var t;a=a||{};var e="0123456789";switch(a.layer){case"vec":default:t=L.tileLayer(n,{name:a.name,subdomains:e,tms:!0});break;case"img_d":t=L.tileLayer("http://shangetu{s}.map.bdimg.com/it/u=x={x};y={y};z={z};v=009;type=sate&fm=46",{name:a.name,subdomains:e,tms:!0});break;case"img_z":t=L.tileLayer("http://online{s}.map.bdimg.com/tile/?qt=tile&x={x}&y={y}&z={z}&styles="+(a.bigfont?"sh":"sl")+"&v=020",{name:a.name,subdomains:e,tms:!0});break;case"custom":a.customid=a.customid||"midnight",t=L.tileLayer(n,{name:a.name,subdomains:e,tms:!0});break;case"time":var i=(new Date).getTime();t=L.tileLayer("http://its.map.baidu.com:8002/traffic/TrafficTileService?x={x}&y={y}&level={z}&time="+i+"&label=web2D&v=017",{name:a.name,subdomains:e,tms:!0});break;case"img":t=L.layerGroup([L.tileLayer.baidu({name:"底图",layer:"img_d",bigfont:a.bigfont}),L.tileLayer.baidu({name:"注记",layer:"img_z",bigfont:a.bigfont})]);break}return t}},"584d":function(a,t){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg=="},"94ec":function(a,t,e){a.exports=e.p+"static/img/end.e0a27d0d.png"},a762:function(a,t,e){"use strict";e.r(t);var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"leaflet-container"},[e("InitMap",{staticClass:"map-box",on:{mapLoad:a.mapLoad}}),e("el-button",{attrs:{type:"primary"},on:{click:a.onSwitchMapMode}},[a._v("切换底图")])],1)},n=[],s=(e("d3b7"),e("3ca3"),e("ddb0"),e("d81d"),e("b64b"),e("e11e")),o=e.n(s),r=(e("48c2"),e("584d")),c=e.n(r),l=e("fd98"),d=e.n(l),m=e("94ec"),h=e.n(m),u={name:"",components:{InitMap:function(){return e.e("chunk-0c233bdc").then(e.bind(null,"e984"))}},props:{},data:function(){return{map:null,tileLayer:null,imageOverLay:null,bounds:[[0,0],[0,0]],mapList:[{id:1,mapID:"BAIDU",mapName:"百度地图",mapType:3,webUrl:"http://map.baidu.com"},{id:2,mapID:"njn",mapName:"南京南站",mapType:0,webUrl:"/Upload/20240606154231443Bd4.jpg"}],lineData:[],trackLength:0,currentIndex:0,polyline:null,trackplayback:null,trackplaybackControl:null,currentTrackIndex:0,timer:null,startAndEndMarkers:[],Options:{clockOptions:{speed:1,maxSpeed:10},trackPointOptions:{isDraw:!1,useCanvas:!0,stroke:!1,color:"#ef0300",fill:!0,fillColor:"#ef0300",opacity:1,radius:4},trackLineOptions:{isDraw:!0,stroke:!0,color:"#ccc",weight:4,fill:!1,fillColor:"#000",opacity:1},targetOptions:{useImg:!0,imgUrl:c.a,width:25,height:25,color:"#fff",fillColor:"#9FD12D"}}}},computed:{},watch:{},beforeDestroy:function(){this.clearTime(),this.clearMapLayers(),this.map&&(this.map=null)},created:function(){},mounted:function(){},methods:{mapLoad:function(a){this.map=a,this.onSwitchMapMode()},getMapInfo:function(a){var t=this;if(0!==Object.keys(a).length){var i=new Image,n=e("fe08");i.src=n,i.onload=function(){var a=i.width,e=i.height;t.bounds=[[0,0],[e,a]],t.imageOverLay?(t.imageOverLay.setUrl(n),t.imageOverLay.setBounds(t.bounds),console.log("非第一次加载地图---",n,t.bounds)):(t.imageOverLay=o.a.imageOverlay(n,t.bounds,{interactive:!0}).addTo(t.map),console.log("首次加载地图---",t.bounds)),t.map.fitBounds(t.bounds)}}},drawLine:function(a){if(console.log("轨迹数据---",a),this.polyline&&(console.log("清除上一条轨迹线"),this.map.removeLayer(this.polyline),this.polyline=null),this.startAndEndMarkers.length>0){for(var t=0;t<this.startAndEndMarkers.length;t++)this.startAndEndMarkers[t].removeFrom(this.map);this.startAndEndMarkers=[]}this.polyline=o.a.polyline(a,{weight:4,className:"dashLines"}).addTo(this.map);var e=o.a.marker(this.lineData[0]).addTo(this.map),i=o.a.marker(this.lineData[this.lineData.length-1]).addTo(this.map);e.setIcon(o.a.icon({iconUrl:d.a,iconSize:[40,40],iconAnchor:[20,40]})),i.setIcon(o.a.icon({iconUrl:h.a,iconSize:[40,40],iconAnchor:[20,40]})),this.startAndEndMarkers=[e,i]},onSwitchMapMode:function(){this.lineData=[],this.clearMapLayers();var a=Math.floor(Math.random()*this.mapList.length),t=this.mapList[a];t?(0===t.mapType?(this.switchToSimpleMode(t),this.lineData=this.generateIndoorTrackData(20)):(this.switchToBaiduMode(),this.lineData=this.generateTrackData(20)),this.drawLine(this.lineData)):console.error("Invalid mapData:",t)},clearMapLayers:function(){this.marker&&(this.map.removeLayer(this.marker),this.marker=null),this.tileLayer&&(this.map.removeLayer(this.tileLayer),this.tileLayer=null),this.imageOverLay&&(this.map.removeLayer(this.imageOverLay),this.imageOverLay=null)},switchToSimpleMode:function(a){this.map.options.crs=o.a.CRS.Simple,this.map.setMinZoom(-3),this.getMapInfo(a)},switchToBaiduMode:function(){this.map.options.crs=o.a.CRS.Baidu,this.map.setMinZoom(6),this.tileLayer=o.a.tileLayer.baidu({layer:"vec"}).addTo(this.map),this.map.setView([39.904211,116.407395],12)},clearTime:function(){clearInterval(this.timer),this.timer=null,console.log("===================================="),console.log("清除定时器---leaflet"),console.log("====================================")},generateTrackData:function(a){for(var t=[],e=39.904211,i=116.407395,n=0;n<a;n++)t.push({lat:e,lng:i}),e+=Math.random()-.5,i+=Math.random()-.5;return t},generateIndoorTrackData:function(a){for(var t=[],e=1e3,i=2e3,n=0;n<a;n++)t.push({lat:Math.round(e),lng:Math.round(i)}),e+=Math.floor(10*Math.random()),i+=Math.floor(10*Math.random());return t}}},p=u,g=(e("f551"),e("2877")),f=Object(g["a"])(p,i,n,!1,null,"58ebd770",null);t["default"]=f.exports},b618:function(a,t,e){},f551:function(a,t,e){"use strict";e("b618")},fd98:function(a,t,e){a.exports=e.p+"static/img/start.77fd3921.png"},fe08:function(a,t,e){a.exports=e.p+"static/img/aa.7635a6ff.jpg"}}]);