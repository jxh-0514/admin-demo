(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f156e"],{"9fe0":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-button",{on:{click:e.add}},[e._v("增加")]),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadings,expression:"loadings"}],ref:"multipleTable",staticStyle:{"margin-top":"0.1rem"},attrs:{data:e.datalist2,border:"","element-loading-text":"拼命加载中"},on:{"row-dblclick":e.handledbsupplier}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"70",align:"center"}}),t("el-table-column",{attrs:{label:"名称",prop:"company"},scopedSlots:e._u([{key:"default",fn:function(a){return[0==a.$index&&e.flag?t("el-input",{ref:"input",attrs:{size:"mini"},model:{value:a.row.company,callback:function(t){e.$set(a.row,"company",t)},expression:"scope.row.company"}}):t("span",[e._v(e._s(a.row.company))])]}}])}),t("el-table-column",{attrs:{label:"联系人",prop:"username",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[0==a.$index&&e.flag2?t("el-input",{ref:"input2",attrs:{size:"mini"},model:{value:a.row.username,callback:function(t){e.$set(a.row,"username",t)},expression:"scope.row.username"}}):t("span",[e._v(e._s(a.row.username))])]}}])}),t("el-table-column",{attrs:{label:"联系人电话",prop:"userphone",align:"center"}})],1),t("el-dialog",{attrs:{title:"公司信息",visible:e.popupsupplier,width:"90%","close-on-click-modal":!1},on:{"update:visible":function(a){e.popupsupplier=a}}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadings,expression:"loadings"}],ref:"multipleTabless",staticStyle:{"margin-top":"0.1rem"},attrs:{data:e.datalist,border:"","element-loading-text":"拼命加载中","row-style":e.rowStyle},on:{"row-dblclick":e.handledbsupplier,"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{label:"全选",type:"selection",width:"55"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"70",align:"center"}}),t("el-table-column",{attrs:{label:"名称",prop:"company",align:"center"}}),t("el-table-column",{attrs:{label:"联系人",prop:"username",align:"center"}}),t("el-table-column",{attrs:{label:"联系人电话",prop:"userphone",align:"center"}})],1),t("el-pagination",{attrs:{background:"","current-page":e.page,"page-sizes":[5,10,15,20],"page-size":e.size,layout:"total, sizes, prev, pager, next",total:e.datalist.length},on:{"prev-click":e.prevClick,"next-click":e.nextClick}})],1)],1)},s=[],i=t("2909"),o=t("5530"),l={data:function(){return{purchase:"",purchasecode:"",buyer:"",loadings:!1,popupsupplier:!1,datalist:[{code:"ad00001",company:"xxxx公司",username:"张三",userphone:"156********"},{code:"ad00002",company:"xxxx公司",username:"李四",userphone:"156********"},{code:"ad00003",company:"xxxx公司",username:"王二",userphone:"156********"},{code:"ad00004",company:"xxxx公司",username:"麻子",userphone:"156********"},{code:"ad00005",company:"xxxx公司",username:"张三1",userphone:"156********"},{code:"ad00006",company:"xxxx公司",username:"李四1",userphone:"156********"},{code:"ad00007",company:"xxxx公司",username:"王二1",userphone:"156********"},{code:"ad00008",company:"xxxx公司",username:"麻子1",userphone:"156********"},{code:"ad00009",company:"xxxx公司",username:"张三2",userphone:"156********"},{code:"ad000010",company:"xxxx公司",username:"李四2",userphone:"156********"},{code:"ad000011",company:"xxxx公司",username:"王二2",userphone:"156********"},{code:"ad000012",company:"xxxx公司",username:"麻子2",userphone:"156********"},{code:"ad000013",company:"xxxx公司",username:"张三3",userphone:"156********"},{code:"ad000014",company:"xxxx公司",username:"李四3",userphone:"156********"},{code:"ad000015",company:"xxxx公司",username:"王二3",userphone:"156********"},{code:"ad000016",company:"xxxx公司",username:"麻子3",userphone:"156********"},{code:"ad000017",company:"xxxx公司",username:"张三4",userphone:"156********"},{code:"ad000018",company:"xxxx公司",username:"李四4",userphone:"156********"},{code:"ad000019",company:"xxxx公司",username:"王二4",userphone:"156********"},{code:"ad000020",company:"xxxx公司",username:"麻子4",userphone:"156********"}],datalist2:[{code:"ad00001",company:"xxxx公司",username:"张三",userphone:"156********"},{code:"ad00002",company:"xxxx公司",username:"李四",userphone:"156********"},{code:"ad00003",company:"xxxx公司",username:"王二",userphone:"156********"}],datarow:"",dataindex:0,refenter:"",flag:!1,flag2:!1,aaa:{code:"ad00003",company:"xxxx公司",username:"王二",userphone:"156********"},multipleSelection:[],page:1,size:5}},created:function(){},mounted:function(){var e=this;this.$nextTick((function(){addEventListener("keyup",e.keyUp),console.log("创建键盘监听")}))},methods:{keyUp:function(e){var a=this;if(console.log("keyCode",e.keyCode),0!=this.datalist.length)if(40==e.keyCode)if(this.dataindex==this.datalist.length-1){this.dataindex=0,this.datarow=this.datalist[0];var t=47;this.$refs.multipleTabless.bodyWrapper.scrollTop=-t*(this.datalist.length-6)}else{if(this.dataindex>6&&this.dataindex<14){var n=47;this.$refs.multipleTabless.bodyWrapper.scrollTop=n*(this.dataindex-6)}this.dataindex=this.dataindex+1,this.datarow=this.datalist[this.dataindex]}else if(38==e.keyCode)if(0==this.dataindex){this.dataindex=this.datalist.length-1,this.datarow=this.datalist[this.dataindex];var s=47;this.$refs.multipleTabless.bodyWrapper.scrollTop=s*(this.datalist.length-6)}else{this.dataindex=this.dataindex-1,this.datarow=this.datalist[this.dataindex];var l=47;this.$refs.multipleTabless.bodyWrapper.scrollTop+=-1*l}else 37==e.keyCode?this.prevClick():39==e.keyCode?this.nextClick():13==e.keyCode?this.flag&&this.popupsupplier?(this.datalist2[0]=Object(o["a"])({},this.datalist[this.dataindex]),this.datalist2=Object(i["a"])(this.datalist2),this.flag=!1,this.flag2=!0,this.popupsupplier=!1,this.$nextTick((function(e){a.$refs.input2.focus()}))):this.flag?this.addB():this.flag2&&(this.$message.success("添加成功"),this.flag2=!1,this.add()):113==e.keyCode?this.add():32==e.keyCode&&(this.$refs.multipleTabless.toggleRowSelection(this.datalist[this.dataindex]),this.handleSelectionChange,console.log("多选",this.multipleSelection))},handleSelectionChange:function(e){this.multipleSelection=e,console.log("handleSelectionChange",this.multipleSelection)},rowStyle:function(e){if(e.rowIndex==this.dataindex)return{color:"#F56C6C"}},handledbsupplier:function(e){this.purchase=e.company,this.purchasecode=e.code},getpurchaseevet:function(e){this.refenter=e,this.popupsupplier=!0,this.datalist=this.datalist,addEventListener("keyup",this.keyUp),console.log("keyup")},add:function(){var e=this;this.flag?this.$message.warning("请添加料号"):(this.datalist2.unshift({}),this.flag=!0,console.log(111,this.datalist),this.$nextTick((function(a){e.$refs.input.focus()})))},hideInput:function(){},changfouce:function(){var e=this;this.$nextTick((function(a){e.$refs.input.focus()}))},addB:function(){this.popupsupplier=!0,console.log(2222)},prevClick:function(){if(!(this.page>1))return this.$message.warning("到头了");this.page--},nextClick:function(){if(!(this.page<Math.ceil(this.datalist.length/this.size)))return this.$message.warning("到底了");this.page++}}},r=l,d=t("2877"),p=Object(d["a"])(r,n,s,!1,null,null,null);a["default"]=p.exports}}]);