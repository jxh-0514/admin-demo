(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14d81578"],{4:function(t,n){},5:function(t,n){},6:function(t,n){},7:function(t,n){},8:function(t,n){},"82c4":function(t,n,e){"use strict";e.r(n);var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"chatroomBox"},[e("div",{staticClass:"contentBox"},t._l(t.logs,(function(n,s){return e("p",{key:s,staticClass:"messageItem"},[t._v(" "+t._s(n)+" ")])})),0),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.message,callback:function(n){t.message=n},expression:"message"}})],1),e("el-col",{attrs:{span:12}},[e("el-button",{attrs:{type:"success",round:""},on:{click:t.mqttPublish}},[t._v("发送消息")])],1)],1)],1)},c=[],i=(e("e9c4"),e("e7fc"),{data:function(){return{client:"",message:"",logs:[]}},mounted:function(){this.initMqtt(),this.mqttReceive()},methods:{initMqtt:function(){var t=this,n="ws://192.168.1.222:8883/mqtt",s=e("e7fc"),c={clientId:"mqttx_5f0cb198",username:"admin",password:"123456"};t.client=s.connect(n,c),this.client.on("connect",(function(){console.log("连接成功....")})),t.client.on("error",(function(n){console.log("err=>",n),t.client.end()}))},mqttPublish:function(){var t="/Epat/StationServer/4G000005";this.client.publish(t,JSON.stringify(this.message))},mqttReceive:function(){var t="/Epat/StationServer/4G000005",n=this;n.client.subscribe(t,(function(t){t?console.log("err",t):console.log("订阅成功!")})),n.client.on("message",(function(t,e){n.logs.push(e)}))}},destroyed:function(){this.client.end&&this.client.end()}}),o=i,l=(e("9989"),e("2877")),u=Object(l["a"])(o,s,c,!1,null,"0f8f3c1f",null);n["default"]=u.exports},9:function(t,n){},9989:function(t,n,e){"use strict";e("e7fb")},e7fb:function(t,n,e){}}]);