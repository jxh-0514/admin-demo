(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f173c3be"],{"250f":function(t,l,e){"use strict";e("7619")},"4ccd":function(t,l,e){"use strict";e("82cc")},7619:function(t,l,e){},"7efb":function(t,l,e){"use strict";e.r(l);var i=function(){var t=this,l=t.$createElement,e=t._self._c||l;return e("div",[e("div",{staticClass:"value"},[t._v(t._s(t.value))]),e("div",{staticClass:"button"},[e("el-button",{staticClass:"mini-btn",attrs:{type:"warn",size:"mini"},on:{click:function(l){return t.setRuler("reduce")}}},[t._v(" - ")]),e("el-button",{staticClass:"mini-btn",attrs:{type:"warn",size:"mini"},on:{click:function(l){return t.setRuler("plus")}}},[t._v(" + ")])],1),e("SelectRuler",{ref:"ruler",attrs:{min:0,max:240,disable:!1,multiple:10,point:1,defaultValue:100},on:{change:t.handleChange}})],1)},s=[],n=function(){var t=this,l=t.$createElement,e=t._self._c||l;return e("div",[e("div",{staticClass:"select-ruler"},[t.disable?e("div",{staticClass:"tap-mask"}):t._e(),e("div",{staticClass:"line"}),e("div",{staticClass:"row-line"}),e("div",{staticClass:"mask mask-left"}),e("div",{staticClass:"mask mask-right"}),e("ScrollView",{attrs:{data:t.max-t.min+1,pulldown:!1,listenScroll:!0},on:{scroll:t.handleScrollB}},[e("div",{staticClass:"box"},t._l(t.max-t.min+1,(function(l,i){return e("span",{key:i,staticClass:"ruler-item span-item",on:{click:function(e){return t.clickItem(l)}}},[e("span",[t._v(t._s(((i+t.min)/t.multiple).toFixed(t.point)))])])})),0)])],1)])},o=[],r=(e("a9e3"),e("b680"),e("99af"),function(){var t=this,l=t.$createElement,e=t._self._c||l;return e("div",{ref:"wrapper",staticClass:"wrapper"},[t._t("default")],2)}),c=[],a=e("229e");function u(t){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,e=null;return function(){var i=this,s=arguments;e&&clearTimeout(e),e=setTimeout((function(){t.apply(i,s)}),l)}}var d={name:"ScrollView",props:{probeType:{type:Number,default:3},click:{type:Boolean,default:!0},scrollX:{type:Boolean,default:!0},scrollY:{type:Boolean,default:!1},listenScroll:{type:Boolean,default:!1},data:{type:[Array,Number],default:null},pullup:{type:Boolean,default:!1},pulldown:{type:Boolean,default:!1},beforeScroll:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20}},data:function(){return{iscroll:null,observer:null,freshRunList:[{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9},{id:10},{id:11}]}},watch:{data:function(){var t=this;setTimeout((function(){t.refresh()}),this.refreshDelay)}},mounted:function(){var t=this;setTimeout((function(){t.personScroll()}),20),window.addEventListener("resize",this.resizeRuler)},beforeDestroy:function(){this.scroll.destroy()},methods:{_initScroll:function(){var t=this;if(this.$refs.wrapper){if(this.scroll=new a["a"](this.$refs.wrapper,{probeType:this.probeType,click:this.click,scrollX:this.scrollX,scrollY:this.scrollY}),this.listenScroll){var l=this;this.scroll.on("scroll",(function(t){l.$emit("scroll",t)}))}this.pullup&&this.scroll.on("scrollEnd",(function(){t.scroll.y<=t.scroll.maxScrollY+50&&t.$emit("scrollToEnd")})),this.pulldown&&this.scroll.on("touchEnd",(function(l){l.y>50&&t.$emit("pulldown")})),this.beforeScroll&&this.scroll.on("beforeScrollStart",(function(){t.$emit("beforeScroll")}))}},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)},personScroll:function(){var t=this;this.$nextTick((function(){t.scroll?(t.scroll.refresh(),console.log("重新计算")):(t.scroll=new a["a"](t.$refs.wrapper,{startX:0,scrollX:!0,scrollY:!1,probeType:t.probeType,click:!0,eventPassthrough:"vertical"}),console.log("初始化刻度尺"),t.scroll.on("scrollStart",(function(){console.log("scrollStart-")})),t.scroll.on("scroll",(function(t){console.log("scrolling-",t)})),t.scroll.on("scrollEnd",(function(){console.log("scrollingEnd")})))}))},resizeRuler:u((function(){this.personScroll()}),500)}},f=d,h=(e("fb7d"),e("2877")),p=Object(h["a"])(f,r,c,!1,null,"045ea189",null),m=p.exports,b={name:"select-ruler",components:{ScrollView:m},data:function(){return{number:0,scroll_left:1,scroll:{detail:{}},data:[{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9},{id:10},{id:11}],pulldown:!0}},props:{min:{type:Number,default:0},max:{type:Number,default:500},multiple:{type:Number,default:1},defaultValue:{type:Number,default:0},disable:{type:Boolean,default:!1},point:{type:Number,default:0}},created:function(){var t=this;setTimeout((function(){t.setDefault(t.defaultValue)}),500)},mounted:function(){window.addEventListener("resize",this.resizeCharts)},methods:{handleScroll:function(t){this.scroll=t,this.number=Math.round(t.detail.scrollLeft/Math.round((t.detail.scrollWidth-375)/this.max)),this.$emit("change",((this.number+this.min)/this.multiple).toFixed(this.point))},initScroll:function(){this.scroll_left=this.number*Math.round((this.scroll.detail.scrollWidth-375)/this.max)},setDefault:function(t){(t<this.min||t>this.max)&&uni.showToast({title:"数值超出范围(".concat(this.min/this.multiple,"-").concat(this.max/this.multiple,")"),icon:"none"}),t<this.min&&(t=this.min),t>this.max&&(t=this.max),this.number=t-this.min,this.initScroll()},plusValue:function(t){this.setDefault(this.number+this.min+Math.floor(t))},reduceValue:function(t){this.setDefault(this.number+this.min-Math.floor(t))},loadData:function(){this.data=this.data.concat(this.data)},handleScrollB:function(t){console.log("滚动",t)},clickItem:function(t){console.log("点击",t)}}},v=b,y=(e("4ccd"),Object(h["a"])(v,n,o,!1,null,"97415db4",null)),w=y.exports,S={components:{SelectRuler:w},data:function(){return{value:0}},onLoad:function(){},methods:{handleChange:function(t){this.value=t},setRuler:function(t){"plus"==t&&this.$refs.ruler.plusValue(1),"reduce"==t&&this.$refs.ruler.reduceValue(2)}}},k=S,x=(e("250f"),Object(h["a"])(k,i,s,!1,null,null,null));l["default"]=x.exports},"82cc":function(t,l,e){},c7b5:function(t,l,e){},fb7d:function(t,l,e){"use strict";e("c7b5")}}]);